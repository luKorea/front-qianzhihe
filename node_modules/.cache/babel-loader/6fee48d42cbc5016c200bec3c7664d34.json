{"remainingRequest":"/Users/careershe03/Desktop/front-korea/admin/node_modules/babel-loader/lib/index.js!/Users/careershe03/Desktop/front-korea/admin/src/permission.js","dependencies":[{"path":"/Users/careershe03/Desktop/front-korea/admin/src/permission.js","mtime":1624248406859},{"path":"/Users/careershe03/Desktop/front-korea/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/careershe03/Desktop/front-korea/admin/node_modules/babel-loader/lib/index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL2NhcmVlcnNoZTAzL0Rlc2t0b3AvZnJvbnQta29yZWEvYWRtaW4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL1VzZXJzL2NhcmVlcnNoZTAzL0Rlc2t0b3AvZnJvbnQta29yZWEvYWRtaW4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maWx0ZXIuanMiOwppbXBvcnQgcm91dGVyIGZyb20gJy4vcm91dGVyJzsKaW1wb3J0IHN0b3JlIGZyb20gJy4vc3RvcmUnOwppbXBvcnQgeyBNZXNzYWdlIH0gZnJvbSAnZWxlbWVudC11aSc7CmltcG9ydCBOUHJvZ3Jlc3MgZnJvbSAnbnByb2dyZXNzJzsgLy8gcHJvZ3Jlc3MgYmFyCgppbXBvcnQgJ25wcm9ncmVzcy9ucHJvZ3Jlc3MuY3NzJzsgLy8gcHJvZ3Jlc3MgYmFyIHN0eWxlCgppbXBvcnQgeyBnZXRUb2tlbiwgaGFzUGVybWlzc2lvbiB9IGZyb20gJ0AvdXRpbHMvYXV0aCc7IC8vIGdldCB0b2tlbiBmcm9tIGNvb2tpZQoKaW1wb3J0IGdldFBhZ2VUaXRsZSBmcm9tICdAL3V0aWxzL2dldC1wYWdlLXRpdGxlJzsKTlByb2dyZXNzLmNvbmZpZ3VyZSh7CiAgc2hvd1NwaW5uZXI6IGZhbHNlCn0pOyAvLyBOUHJvZ3Jlc3MgQ29uZmlndXJhdGlvbgoKdmFyIHdoaXRlTGlzdCA9IFsnL2xvZ2luJ107IC8vIG5vIHJlZGlyZWN0IHdoaXRlbGlzdAoKcm91dGVyLmJlZm9yZUVhY2goIC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgdmFyIF9yZWYgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU0KHRvLCBmcm9tLCBuZXh0KSB7CiAgICB2YXIgcm9sZXNmdW4sIF9yb2xlc2Z1biwgaGFzVG9rZW47CgogICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU0JChfY29udGV4dDQpIHsKICAgICAgd2hpbGUgKDEpIHsKICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NC5wcmV2ID0gX2NvbnRleHQ0Lm5leHQpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgX3JvbGVzZnVuID0gZnVuY3Rpb24gX3JvbGVzZnVuMygpIHsKICAgICAgICAgICAgICBfcm9sZXNmdW4gPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKCkgewogICAgICAgICAgICAgICAgdmFyIHJvbGVzOwogICAgICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgICAgICAgcm9sZXMgPSBnZXRyb2xlcygpOwoKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0b3JlLmdldHRlcnMuaW5pdCkgewogICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyb2xlcyAmJiByb2xlcy5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL+acieadg+mZkAogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGhhc1Blcm1pc3Npb24oc3RvcmUuZ2V0dGVycy5yb2xlcywgdG8ubWV0YS5yb2xlcykpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV4dCgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV4dCh7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGF0aDogJy80MDQnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcGxhY2U6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcXVlcnk6IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vR29CYWNrOiB0cnVlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV4dCgpOwogICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBzdG9yZS5kaXNwYXRjaCgnR2VuZXJhdGVSb3V0ZXMnLCB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByb2xlczogcm9sZXMKICAgICAgICAgICAgICAgICAgICAgICAgICB9KS50aGVuKCAvKiNfX1BVUkVfXyovX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIOagueaNrnJvbGVz5p2D6ZmQ55Sf5oiQ5Y+v6K6/6Zeu55qE6Lev55Sx6KGoCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvdXRlci5hZGRSb3V0ZXMoc3RvcmUuZ2V0dGVycy5hZGRSb3V0ZXJzKTsgLy8g5Yqo5oCB5re75Yqg5Y+v6K6/6Zeu6Lev55Sx6KGoCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdG9yZS5kaXNwYXRjaCgndXNlci9zZXRJbml0JykudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV4dChfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIHRvKSwge30sIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcGxhY2U6IHRydWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSk7IC8vIGhhY2vmlrnms5Ug56Gu5L+dYWRkUm91dGVz5bey5a6M5oiQICxzZXQgdGhlIHJlcGxhY2U6IHRydWUgc28gdGhlIG5hdmlnYXRpb24gd2lsbCBub3QgbGVhdmUgYSBoaXN0b3J5IHJlY29yZAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBfY2FsbGVlMik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgfSkpKS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpOwogICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9LCBfY2FsbGVlMyk7CiAgICAgICAgICAgICAgfSkpOwogICAgICAgICAgICAgIHJldHVybiBfcm9sZXNmdW4uYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgICAgICAgfTsKCiAgICAgICAgICAgIHJvbGVzZnVuID0gZnVuY3Rpb24gX3JvbGVzZnVuMigpIHsKICAgICAgICAgICAgICByZXR1cm4gX3JvbGVzZnVuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgICAgIH07CgogICAgICAgICAgICBOUHJvZ3Jlc3Muc3RhcnQoKTsKICAgICAgICAgICAgZG9jdW1lbnQudGl0bGUgPSBnZXRQYWdlVGl0bGUodG8ubWV0YS50aXRsZSk7CiAgICAgICAgICAgIGhhc1Rva2VuID0gZ2V0VG9rZW4oKTsKCiAgICAgICAgICAgIGlmIChoYXNUb2tlbikgewogICAgICAgICAgICAgIGlmICh0by5wYXRoID09PSAnL2xvZ2luJykgewogICAgICAgICAgICAgICAgLy8gaWYgaXMgbG9nZ2VkIGluLCByZWRpcmVjdCB0byB0aGUgaG9tZSBwYWdlCiAgICAgICAgICAgICAgICBuZXh0KHsKICAgICAgICAgICAgICAgICAgcGF0aDogJy8nCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIE5Qcm9ncmVzcy5kb25lKCk7CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGlmIChzdG9yZS5nZXR0ZXJzLm5hbWUpIHsKICAgICAgICAgICAgICAgICAgLy/ov5jmsqHojrflj5YKICAgICAgICAgICAgICAgICAgLy/nmbvlvZXpobXpnaLov5vmnaUKICAgICAgICAgICAgICAgICAgcm9sZXNmdW4oKTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgIC8v5Yi35paw6aG16Z2i6L+b5p2lCiAgICAgICAgICAgICAgICAgIHN0b3JlLmRpc3BhdGNoKCd1c2VyL2dldEluZm8nKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgICAgICAvLyDmi4nlj5Z1c2VyX2luZm8KICAgICAgICAgICAgICAgICAgICByb2xlc2Z1bigpOwogICAgICAgICAgICAgICAgICB9KS5jYXRjaCggLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICB2YXIgX3JlZjIgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoZXJyKSB7CiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gc3RvcmUuZGlzcGF0Y2goJ3VzZXIvbG9nb3V0Jyk7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXh0KCIvbG9naW4/cmVkaXJlY3Q9Ii5jb25jYXQodG8ucGF0aCkpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhdGlvbi5yZWxvYWQoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgICAgICAgICAgICAgICAgfSkpOwoKICAgICAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKF94NCkgewogICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9yZWYyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgfSgpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgLyogaGFzIG5vIHRva2VuKi8KICAgICAgICAgICAgICBpZiAod2hpdGVMaXN0LmluZGV4T2YodG8ucGF0aCkgIT09IC0xKSB7CiAgICAgICAgICAgICAgICAvLyBpbiB0aGUgZnJlZSBsb2dpbiB3aGl0ZWxpc3QsIGdvIGRpcmVjdGx5CiAgICAgICAgICAgICAgICBuZXh0KCk7CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIC8vIG90aGVyIHBhZ2VzIHRoYXQgZG8gbm90IGhhdmUgcGVybWlzc2lvbiB0byBhY2Nlc3MgYXJlIHJlZGlyZWN0ZWQgdG8gdGhlIGxvZ2luIHBhZ2UuCiAgICAgICAgICAgICAgICBuZXh0KCIvbG9naW4/cmVkaXJlY3Q9Ii5jb25jYXQodG8ucGF0aCkpOwogICAgICAgICAgICAgICAgTlByb2dyZXNzLmRvbmUoKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KCiAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LnN0b3AoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sIF9jYWxsZWU0KTsKICB9KSk7CgogIHJldHVybiBmdW5jdGlvbiAoX3gsIF94MiwgX3gzKSB7CiAgICByZXR1cm4gX3JlZi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogIH07Cn0oKSk7CnJvdXRlci5hZnRlckVhY2goZnVuY3Rpb24gKCkgewogIC8vIGZpbmlzaCBwcm9ncmVzcyBiYXIKICBOUHJvZ3Jlc3MuZG9uZSgpOwp9KTsKCmZ1bmN0aW9uIGdldHJvbGVzKCkgewogIHRyeSB7CiAgICByZXR1cm4gc3RvcmUuc3RhdGUudXNlci5yb2xlcy5tZW51TGlzdC5maWx0ZXIoZnVuY3Rpb24gKGQpIHsKICAgICAgcmV0dXJuIGQ7CiAgICB9KTsKICB9IGNhdGNoIChlcnJvcikgewogICAgcmV0dXJuIFtdOwogIH0KfQ=="},{"version":3,"sources":["/Users/careershe03/Desktop/front-korea/admin/src/permission.js"],"names":["router","store","Message","NProgress","getToken","hasPermission","getPageTitle","configure","showSpinner","whiteList","beforeEach","to","from","next","rolesfun","roles","getroles","getters","init","length","meta","path","replace","query","noGoBack","dispatch","then","addRoutes","addRouters","catch","err","console","log","start","document","title","hasToken","done","name","res","location","reload","indexOf","afterEach","state","user","menuList","filter","d","error"],"mappings":"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","sourcesContent":["import router from './router'\nimport store from './store'\nimport { Message } from 'element-ui'\nimport NProgress from 'nprogress' // progress bar\nimport 'nprogress/nprogress.css' // progress bar style\nimport { getToken ,hasPermission} from '@/utils/auth' // get token from cookie\nimport getPageTitle from '@/utils/get-page-title'\n\nNProgress.configure({ showSpinner: false }) // NProgress Configuration\n\nconst whiteList = ['/login'] // no redirect whitelist\nrouter.beforeEach(async (to, from, next) => {\n  NProgress.start()\n  document.title = getPageTitle(to.meta.title)\n  async function rolesfun() {\n    let roles = getroles();\n    if (store.getters.init) {\n      if (roles && roles.length > 0) {//有权限\n        if (hasPermission(store.getters.roles, to.meta.roles)) {\n          next()\n        } else {\n          next({ path: '/404', replace: true, query: { noGoBack: true } })\n        }\n      }\n      else {\n        next()\n      }\n    } else {\n      store.dispatch('GenerateRoutes', { roles }).then(async () => { // 根据roles权限生成可访问的路由表\n        router.addRoutes(store.getters.addRouters) // 动态添加可访问路由表\n        store.dispatch('user/setInit').then(() => {\n          next({ ...to, replace: true })// hack方法 确保addRoutes已完成 ,set the replace: true so the navigation will not leave a history record\n        }).catch((err) => {\n          console.log(err);\n        })\n      }).catch((err) => {\n        console.log(err);\n      })\n    }\n  }\n\n  const hasToken = getToken()\n  if (hasToken) {\n    if (to.path === '/login') {\n      // if is logged in, redirect to the home page\n      next({ path: '/' })\n      NProgress.done()\n    } else {\n      if (store.getters.name) {//还没获取\n        //登录页面进来\n        rolesfun()\n      } else {\n        //刷新页面进来\n        store.dispatch('user/getInfo').then(res => { // 拉取user_info\n          rolesfun()\n        }).catch(async (err) => {\n          //浏览器换内核模式会有异常\n          await store.dispatch('user/logout')\n          next(`/login?redirect=${to.path}`)\n          location.reload();\n          console.log(err);\n        })\n      }\n    }\n  } else {\n    /* has no token*/\n    if (whiteList.indexOf(to.path) !== -1) {\n      // in the free login whitelist, go directly\n      next()\n    } else {\n      // other pages that do not have permission to access are redirected to the login page.\n      next(`/login?redirect=${to.path}`)\n      NProgress.done()\n    }\n  }\n})\n\nrouter.afterEach(() => {\n  // finish progress bar\n  NProgress.done()\n})\n\n\nfunction getroles() {\n  try {\n    return store.state.user.roles.menuList.filter(d => d)\n  } catch (error) {\n    return []\n  }\n}"]}]}