{"remainingRequest":"/Users/careershe03/Desktop/front-korea/admin/node_modules/babel-loader/lib/index.js!/Users/careershe03/Desktop/front-korea/admin/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/careershe03/Desktop/front-korea/admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/careershe03/Desktop/front-korea/admin/src/views/students/operation/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/careershe03/Desktop/front-korea/admin/src/views/students/operation/index.vue","mtime":1624952596420},{"path":"/Users/careershe03/Desktop/front-korea/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/careershe03/Desktop/front-korea/admin/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/careershe03/Desktop/front-korea/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/careershe03/Desktop/front-korea/admin/node_modules/vue-loader/lib/index.js","mtime":499162500000},{"path":"/Users/careershe03/Desktop/front-korea/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/careershe03/Desktop/front-korea/admin/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/careershe03/Desktop/front-korea/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/careershe03/Desktop/front-korea/admin/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgdmFsaWRhdGVQaG9uZSwgdmFsaWRhdGVVc2VybmFtZSB9IGZyb20gIi4uLy4uLy4uL3V0aWxzL3ZhbGlkYXRlIjsKaW1wb3J0IHsgZ2V0U3R1ZGVudEluZm8sIHJlbW92ZVN0dWRlbnRUb0NsYXNzLCB1cGRhdGVTdHVkZW50SW5mbyB9IGZyb20gIi4uLy4uLy4uL2FwaS9zdHVkZW50cyI7CmltcG9ydCB7IHNlbGVjdENsYXNzTGlzdCwgc2VsZWN0VHlwZUxpc3QgfSBmcm9tICIuLi8uLi8uLi9hcGkvc2VhcmNoIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJpbmRleCIsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHBhcmFtczogewogICAgICAgIHN0dWRlbnRJZDogJycsCiAgICAgICAgZ3JhZGVJZDogJycKICAgICAgfSwKICAgICAgZm9ybToge30sCiAgICAgIHJ1bGVzOiB7CiAgICAgICAgdXNlcm5hbWU6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJywKICAgICAgICAgIHZhbGlkYXRvcjogdmFsaWRhdGVQaG9uZQogICAgICAgIH1dLAogICAgICAgIG5hbWU6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJywKICAgICAgICAgIHZhbGlkYXRvcjogdmFsaWRhdGVVc2VybmFtZQogICAgICAgIH1dCiAgICAgIH0sCiAgICAgIHRlYWNoZXJMaXN0OiBbXSwKICAgICAgY2xhc3NMaXN0OiBbXSwKICAgICAgZmlyc3RMaXN0OiBbXSwKICAgICAgcmVjbGVhbmluZ0xpc3Q6IFtdLAogICAgICBjaGVja0xpc3Q6IFtdCiAgICB9OwogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHZhciBfdGhpcyQkcm91dGUkcXVlcnkgPSB0aGlzLiRyb3V0ZS5xdWVyeSwKICAgICAgICBzdHVkZW50SWQgPSBfdGhpcyQkcm91dGUkcXVlcnkuc3R1ZGVudElkLAogICAgICAgIGdyYWRlSWQgPSBfdGhpcyQkcm91dGUkcXVlcnkuZ3JhZGVJZDsKICAgIHRoaXMucGFyYW1zLnN0dWRlbnRJZCA9IHN0dWRlbnRJZDsKICAgIHRoaXMucGFyYW1zLmdyYWRlSWQgPSBncmFkZUlkOwogICAgdGhpcy5nZXRFZGl0RGF0YSh0aGlzLnBhcmFtcyk7CiAgICB0aGlzLmdldENsYXNzRGF0YSgpOwogICAgdGhpcy5nZXRGaXJzdFNlbGVjdERhdGEoKTsKICAgIHRoaXMuZ2V0UmVjbGVhbmluZ0RhdGEoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGdldEZpcnN0U2VsZWN0RGF0YTogZnVuY3Rpb24gZ2V0Rmlyc3RTZWxlY3REYXRhKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgc2VsZWN0VHlwZUxpc3QoJ2ZpcnN0Q2hvaWNlJykudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgaWYgKHJlcy5lcnJvckNvZGUgPT09IDIwMCkgX3RoaXMuZmlyc3RMaXN0ID0gcmVzLmRhdGE7CiAgICAgIH0pOwogICAgfSwKICAgIGdldFJlY2xlYW5pbmdEYXRhOiBmdW5jdGlvbiBnZXRSZWNsZWFuaW5nRGF0YSgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICBzZWxlY3RUeXBlTGlzdCgncmVjbGVhbmluZycpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIGlmIChyZXMuZXJyb3JDb2RlID09PSAyMDApIHsKICAgICAgICAgIF90aGlzMi5yZWNsZWFuaW5nTGlzdCA9IHJlcy5kYXRhOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgZ2V0Q2xhc3NEYXRhOiBmdW5jdGlvbiBnZXRDbGFzc0RhdGEoKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgc2VsZWN0Q2xhc3NMaXN0KCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgaWYgKHJlcy5lcnJvckNvZGUgPT09IDIwMCkgewogICAgICAgICAgX3RoaXMzLmNsYXNzTGlzdCA9IHJlcy5kYXRhOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgZ2V0RWRpdERhdGE6IGZ1bmN0aW9uIGdldEVkaXREYXRhKHBhcmFtcykgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKCiAgICAgIGdldFN0dWRlbnRJbmZvKHBhcmFtcykudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgaWYgKHJlcy5lcnJvckNvZGUgPT09IDIwMCkgewogICAgICAgICAgX3RoaXM0LmZvcm0gPSByZXMuZGF0YTsKICAgICAgICAgIF90aGlzNC5jaGVja0xpc3QgPSBbX3RoaXM0LmZvcm0ucmVjbGVhbmluZzEsIF90aGlzNC5mb3JtLnJlY2xlYW5pbmcyXTsKICAgICAgICAgIF90aGlzNC5mb3JtWydnZW5kZXInXSA9IF90aGlzNC5mb3JtLmdlbmRlciA9PSAnZicgPyAn55S3JyA6ICflpbMnOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgZ29CYWNrOiBmdW5jdGlvbiBnb0JhY2soKSB7CiAgICAgIHRoaXMuJHJvdXRlci5nbygtMSk7CiAgICB9LAogICAgcmVtb3ZlQ2xhc3NJbmZvOiBmdW5jdGlvbiByZW1vdmVDbGFzc0luZm8oc3R1ZGVudElkKSB7CiAgICAgIHZhciB0aGF0ID0gdGhpczsKICAgICAgdGhhdC4kY29uZmlybSgn5q2k5pON5L2c5bCG5Lya5bCG6K+l5ZCN5a2m55Sf56e75Ye65b2T5YmN54+t57qnLCDmmK/lkKbnu6fnu60/JywgJ+enu+mZpOWtpueUnycsIHsKICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogJ+ehruWumicsCiAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogJ+WPlua2iCcsCiAgICAgICAgdHlwZTogJ3dhcm5pbmcnCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIHJlbW92ZVN0dWRlbnRUb0NsYXNzKHN0dWRlbnRJZCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICBpZiAocmVzLmVycm9yQ29kZSA9PT0gMjAwKSB7CiAgICAgICAgICAgIHRoYXQuJG1lc3NhZ2UoewogICAgICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJywKICAgICAgICAgICAgICBtZXNzYWdlOiAn56e76Zmk5oiQ5YqfIScKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHRoYXQuZ29CYWNrKCk7IC8vIHRoYXQuZ2V0RWRpdERhdGEodGhhdC5wYXJhbXMpOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoKSB7fSk7CiAgICAgIGNvbnNvbGUubG9nKHN0dWRlbnRJZCk7CiAgICB9LAogICAgb3BlcmF0aW9uRGF0YTogZnVuY3Rpb24gb3BlcmF0aW9uRGF0YSgpIHsKICAgICAgdmFyIF90aGlzNSA9IHRoaXM7CgogICAgICB2YXIgdGhhdCA9IHRoaXM7CiAgICAgIHRoYXQuZm9ybVsnZ2VuZGVyJ10gPSB0aGlzLmZvcm0uZ2VuZGVyID09PSAn55S3JyA/ICdmJyA6ICdtJzsKICAgICAgdGhhdC5mb3JtWydncmFkZUlkJ10gPSB0aGlzLnBhcmFtcy5ncmFkZUlkOwogICAgICB0aGF0LmZvcm1bJ3JlY2xlYW5pbmcxJ10gPSB0aGF0LmNoZWNrTGlzdFswXTsKICAgICAgdGhhdC5mb3JtWydyZWNsZWFuaW5nMiddID0gdGhhdC5jaGVja0xpc3RbMV07CiAgICAgIHRoYXQuJHJlZnNbJ2Zvcm0nXS52YWxpZGF0ZShmdW5jdGlvbiAodmFsaWQpIHsKICAgICAgICBpZiAodmFsaWQpIHsKICAgICAgICAgIHVwZGF0ZVN0dWRlbnRJbmZvKHRoYXQuZm9ybSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgIGlmIChyZXMuZXJyb3JDb2RlID09PSAyMDApIHsKICAgICAgICAgICAgICBfdGhpczUuJG1lc3NhZ2Uuc3VjY2Vzcygn5L+u5pS55oiQ5YqfJyk7CgogICAgICAgICAgICAgIF90aGlzNS5nb0JhY2soKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"sources":["index.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div>\n    <el-form label-width=\"80px\" :model=\"form\" :rules=\"rules\" ref=\"form\">\n      <basic-container>\n        <span class=\"tip-info\"></span>\n        <span class=\"tip-title\">基本信息</span>\n        <div style=\"margin-top: 20px\">\n          <el-row :gutter=\"4\">\n            <el-col :span=\"10\">\n              <el-form-item label=\"学生ID\">\n                <el-input v-model=\"form._id\" disabled/>\n              </el-form-item>\n            </el-col>\n            <el-col :span=\"10\">\n              <el-form-item label=\"头像\">\n                <el-avatar size=\"30\" :src=\"form.profilePicture\"></el-avatar>\n              </el-form-item>\n            </el-col>\n          </el-row>\n          <el-row :gutter=\"4\">\n            <el-col :span=\"10\">\n              <el-form-item label=\"姓名\" required prop=\"name\">\n                <el-input v-model=\"form.name\"></el-input>\n              </el-form-item>\n            </el-col>\n            <el-col :span=\"10\">\n              <el-form-item label=\"性别\">\n                <el-input v-model=\"form.gender\" disabled></el-input>\n              </el-form-item>\n            </el-col>\n          </el-row>\n          <el-row :gutter=\"4\">\n            <el-col :span=\"10\">\n              <el-form-item label=\"手机号\" required prop=\"username\">\n                <el-input v-model=\"form.username\"></el-input>\n              </el-form-item>\n            </el-col>\n            <el-col :span=\"10\">\n              <el-form-item label=\"激活日期\">\n                <el-input v-model=\"form.activationDate\" disabled></el-input>\n              </el-form-item>\n            </el-col>\n          </el-row>\n        </div>\n      </basic-container>\n      <basic-container>\n        <span class=\"tip-info\"></span>\n        <span class=\"tip-title\">班级信息</span>\n        <template v-if=\"form.gradeDto\">\n          <div class=\"table-wrap\">\n            <div class=\"table-title\" style=\"background-color: #FFFFFF\">\n              <span>班级ID</span>\n              <span>班级名称</span>\n              <span>班级类型</span>\n              <span>年级</span>\n              <span>入学年份</span>\n              <span>班主任</span>\n              <span>生涯导师1</span>\n              <span>生涯导师2</span>\n              <span>操作</span>\n            </div>\n            <div class=\"student-table-title\">\n              <span>{{ form.gradeDto._id.slice(0, 12) }}</span>\n              <span>{{ form.gradeDto.name }}</span>\n              <span>{{ form.gradeDto.gradeType }}</span>\n              <span>{{ form.gradeDto.grade }}</span>\n              <span>{{ form.gradeDto.enrollmentYear }}</span>\n              <span>{{ form.gradeDto.teacherName }}</span>\n              <span>{{ form.gradeDto.teacher1Name }}</span>\n              <span>{{ form.gradeDto.teacher2Name }}</span>\n              <span style=\"color: #FF0000; cursor:pointer;\" @click=\"removeClassInfo(form._id)\">解除班级绑定</span>\n            </div>\n          </div>\n        </template>\n        <template v-else>\n          <div style=\"margin-top: 20px\">\n            <span class=\"tip-title\" style=\"margin-right: 20px\">选择班级</span>\n            <el-select v-model=\"form.gradeId\" placeholder=\"请选择\" clearable>\n              <el-option v-for=\"item in classList\" :key=\"item._id\" :label=\"item.name\" :value=\"item._id\"/>\n            </el-select>\n          </div>\n        </template>\n      </basic-container>\n      <basic-container style=\"margin-bottom: 60px\">\n        <span class=\"tip-info\"></span>\n        <span class=\"tip-title\">选科信息</span>\n        <div class=\"m-top\">\n          <div class=\"m-bottom\">\n            <span class=\"tip-title\">首选科目（2选1）</span>\n            <el-radio-group v-model=\"form.firstChoice\">\n              <el-radio v-for=\"(item, index) in firstList\" :label=\"item.name\" />\n            </el-radio-group>\n          </div>\n          <div style=\"display: flex; align-items: center\">\n            <span class=\"tip-title\">再选科目（4选2）</span>\n            <el-checkbox-group v-model=\"checkList\" :max=\"2\">\n              <el-checkbox v-for=\"(item, index) in recleaningList\" :label=\"item.name\" :key=\"index\">{{item.name}}</el-checkbox>\n            </el-checkbox-group>\n          </div>\n        </div>\n      </basic-container>\n    </el-form>\n    <div class=\"footer-btn\">\n      <el-button style=\"color: #475B75\" @click=\"goBack\">取消</el-button>\n      <el-button type=\"primary\" @click=\"operationData\">保存</el-button>\n    </div>\n  </div>\n</template>\n\n<script>\nimport {\n  validatePhone,\n  validateUsername\n} from \"../../../utils/validate\";\nimport {getStudentInfo, removeStudentToClass, updateStudentInfo} from \"../../../api/students\";\nimport {selectClassList, selectTypeList} from \"../../../api/search\";\n\nexport default {\n  name: \"index\",\n  data() {\n    return {\n      params: {\n        studentId: '',\n        gradeId: ''\n      },\n      form: {},\n      rules: {\n        username: [{required: true, trigger: 'blur', validator: validatePhone}],\n        name: [{required: true, trigger: 'blur', validator: validateUsername}],\n      },\n      teacherList: [],\n      classList: [],\n      firstList: [],\n      recleaningList: [],\n      checkList: []\n    }\n  },\n  mounted() {\n    let {studentId, gradeId} = this.$route.query;\n    this.params.studentId = studentId;\n    this.params.gradeId = gradeId;\n    this.getEditData(this.params);\n    this.getClassData();\n    this.getFirstSelectData();\n    this.getRecleaningData();\n  },\n  methods: {\n    getFirstSelectData() {\n      selectTypeList('firstChoice')\n          .then(res => {\n            if (res.errorCode === 200) this.firstList = res.data;\n          })\n    },\n    getRecleaningData() {\n      selectTypeList('recleaning')\n          .then(res => {\n            if (res.errorCode === 200) {\n              this.recleaningList = res.data;\n            }\n          })\n    },\n    getClassData() {\n      selectClassList()\n          .then(res => {\n            if (res.errorCode === 200) {\n              this.classList = res.data;\n            }\n          })\n    },\n    getEditData(params) {\n      getStudentInfo(params)\n          .then(res => {\n            if (res.errorCode === 200) {\n              this.form = res.data;\n              this.checkList = [this.form.recleaning1, this.form.recleaning2];\n              this.form['gender'] = this.form.gender == 'f' ? '男' : '女';\n\n            }\n          })\n    },\n    goBack() {\n      this.$router.go(-1);\n    },\n    removeClassInfo(studentId) {\n      let that = this;\n      that.$confirm('此操作将会将该名学生移出当前班级, 是否继续?', '移除学生', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        removeStudentToClass(studentId)\n            .then(res => {\n              if (res.errorCode === 200) {\n                that.$message({\n                  type: 'success',\n                  message: '移除成功!'\n                });\n                that.goBack();\n                // that.getEditData(that.params);\n              }\n            })\n      }).catch(() => {\n      });\n      console.log(studentId);\n    },\n    operationData() {\n      let that = this;\n      that.form['gender'] = this.form.gender === '男' ? 'f' : 'm';\n      that.form['gradeId'] = this.params.gradeId;\n      that.form['recleaning1'] = that.checkList[0];\n      that.form['recleaning2'] = that.checkList[1];\n      that.$refs['form'].validate(valid => {\n        if (valid) {\n          updateStudentInfo(that.form)\n              .then(res => {\n                if (res.errorCode === 200) {\n                  this.$message.success('修改成功');\n                  this.goBack();\n                }\n              })\n        } else {\n          return false;\n        }\n      })\n    }\n  }\n}\n</script>\n\n<style scoped lang=\"scss\">\n.student-table-title {\n  display: flex;\n  justify-content: space-around;\n  text-align: center;\n  align-items: center;\n  height: 54px;\n  background-color: #FFFFFF;\n\n  span {\n    width: 33.33%;\n    height: 54px;\n    line-height: 54px;\n    font-size: 14px;\n    font-family: PingFangSC-Medium, PingFang SC;\n    font-weight: 500;\n    color: #475B75;\n    border-top: 1px solid #dddee2;\n    border-right: 1px solid #dddee2;\n  }\n}\n\n.m-right {\n  margin-right: 20px;\n}\n</style>"],"sourceRoot":"src/views/students/operation"}]}