{"remainingRequest":"/Users/careershe03/Desktop/front-korea/admin/node_modules/babel-loader/lib/index.js!/Users/careershe03/Desktop/front-korea/admin/src/utils/req.js","dependencies":[{"path":"/Users/careershe03/Desktop/front-korea/admin/src/utils/req.js","mtime":1624246299591},{"path":"/Users/careershe03/Desktop/front-korea/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/careershe03/Desktop/front-korea/admin/node_modules/babel-loader/lib/index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIudXJsLmpzIjsKaW1wb3J0IHsgTWVzc2FnZUJveCwgTWVzc2FnZSB9IGZyb20gJ2VsZW1lbnQtdWknOwppbXBvcnQgeyBnZXRUb2tlbiwgZ2V0VXNlcklkIH0gZnJvbSAnQC91dGlscy9hdXRoJzsKaW1wb3J0IHsgc2hvd0Z1bGxTY3JlZW5Mb2FkaW5nLCB0cnlIaWRlRnVsbFNjcmVlbkxvYWRpbmcgfSBmcm9tICcuL2xvYWRpbmcnOwovKioKKiDor7fmsYIKKiBAcGFyYW0ge1N0cmluZ30gdXJsIAoqIEBwYXJhbSB7T2JqZWN0fSBkYXRhIAoqIEBwYXJhbSB7U3RyaW5nfSB0eXBlIFtnZXR8cG9zdF0KKiBAcGFyYW0ge0Jvb2xlYW59IHRpcHMgW3RydWU95oiQ5Yqf5o+Q56S6XQoqIEBwYXJhbSB7Qm9vbGVhbn0gZmxhZyBbdHJ1ZT3or7fmsYLlpLHotKXkuZ/ov5Tlm57lrozmlbTmiqXmloddCiogQHJldHVybnMgCiogQGV4YW1wbGUKKiAKKiByZXEoIiIsIHt9LCAicG9zdCIpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgY29uc29sZS5sb2cocmVzKQp9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7IH0pOwoqLwoKZXhwb3J0IGZ1bmN0aW9uIHJlcSh1cmwsIGRhdGEpIHsKICB2YXIgdHlwZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogJ0dFVCc7CiAgdmFyIHRpcHMgPSBhcmd1bWVudHMubGVuZ3RoID4gMyA/IGFyZ3VtZW50c1szXSA6IHVuZGVmaW5lZDsKICB2YXIgZmxhZyA9IGFyZ3VtZW50cy5sZW5ndGggPiA0ID8gYXJndW1lbnRzWzRdIDogdW5kZWZpbmVkOwogIHNob3dGdWxsU2NyZWVuTG9hZGluZygpOwogIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICB2YXIgaGVhZGVycyA9IHsKICAgICAgQXV0aG9yaXphdGlvbjogZ2V0VG9rZW4oKSB8fCAnJwogICAgfTsKCiAgICBpZiAodHlwZSA9PSAicG9zdCIpIHsKICAgICAgaGVhZGVyc1siQ29udGVudC1UeXBlIl0gPSAiYXBwbGljYXRpb24vanNvbiI7CiAgICAgIGRhdGEgPSBKU09OLnN0cmluZ2lmeShkYXRhKTsKICAgIH0KCiAgICB2YXIgc3VjY2VzcyA9IGZ1bmN0aW9uIHN1Y2Nlc3MocmVzKSB7CiAgICAgIGlmICh0aXBzKSB7CiAgICAgICAgTWVzc2FnZSh7CiAgICAgICAgICBtZXNzYWdlOiByZXMubWVzc2FnZSwKICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJwogICAgICAgIH0pOwogICAgICB9IC8v6K+35rGC5oiQ5YqfMjAwIOaIkOWKn+aJjeS8mui/lOWbngoKCiAgICAgIHRyeUhpZGVGdWxsU2NyZWVuTG9hZGluZygpOwogICAgICByZXNvbHZlKHJlcyk7IC8vIGVsc2UgaWYgKHJlcy5jb2RlID09IDQwMykgewogICAgICAvLyAgICAgTWVzc2FnZUJveC5jb25maXJtKCfmgqjlt7Lms6jplIDvvIzlj6/ku6Xlj5bmtojku6XlgZznlZnlnKjmraTpobXpnaLvvIzmiJbph43mlrDnmbvlvZUnLCAn56Gu6K6k5rOo6ZSAJywgewogICAgICAvLyAgICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAn6YeN5paw55m75b2VJywKICAgICAgLy8gICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAn5Y+W5raIJywKICAgICAgLy8gICAgICAgICB0eXBlOiAnd2FybmluZycKICAgICAgLy8gICAgIH0pLnRoZW4oKCkgPT4gewogICAgICAvLyAgICAgICAgIHN0b3JlLmRpc3BhdGNoKCd1c2VyL3Jlc2V0VG9rZW4nKS50aGVuKCgpID0+IHsKICAgICAgLy8gICAgICAgICAgICAgbG9jYXRpb24ucmVsb2FkKCkKICAgICAgLy8gICAgICAgICB9KQogICAgICAvLyAgICAgfSkKICAgICAgLy8KICAgICAgLy8gfQogICAgICAvLyBlbHNlIHsKICAgICAgLy8gICAgIE1lc3NhZ2UoewogICAgICAvLyAgICAgICAgIG1lc3NhZ2U6IHJlcy5tZXNzYWdlLAogICAgICAvLyAgICAgICAgIHR5cGU6ICdlcnJvcicsCiAgICAgIC8vICAgICAgICAgZHVyYXRpb246IDMgKiAxMDAwCiAgICAgIC8vICAgICB9KQogICAgICAvLwogICAgICAvLyAgICAgaWYgKGZsYWcpIHsvL+ivt+axguWksei0peS5n+i/lOWbnuaKpeaWhwogICAgICAvLyAgICAgICAgIHJlc29sdmUocmVzKTsKICAgICAgLy8gICAgIH0gZWxzZSB7CiAgICAgIC8vICAgICAgICAgcmVqZWN0KHJlcyk7CiAgICAgIC8vICAgICB9CiAgICAgIC8vIH0KICAgIH07CgogICAgdmFyIGVycm9yID0gZnVuY3Rpb24gZXJyb3IoZXJyKSB7CiAgICAgIHZhciBkYXRhID0gSlNPTi5wYXJzZShlcnIucmVzcG9uc2VUZXh0KTsKICAgICAgY29uc29sZS5sb2coZGF0YSk7CiAgICAgIHRyeUhpZGVGdWxsU2NyZWVuTG9hZGluZygpOwogICAgICBNZXNzYWdlKHsKICAgICAgICBtZXNzYWdlOiBkYXRhLm1lc3NhZ2UsCiAgICAgICAgdHlwZTogJ2Vycm9yJywKICAgICAgICBkdXJhdGlvbjogMyAqIDEwMDAKICAgICAgfSk7CiAgICAgIHJlamVjdChkYXRhLm1lc3NhZ2UpOwogICAgfTsKCiAgICBpZiAodHlwZSA9PSAndXBsb2FkJykgewogICAgICAkLmFqYXgoewogICAgICAgIHR5cGU6ICJwb3N0IiwKICAgICAgICB0aW1lb3V0OiAxMjAwMDAsCiAgICAgICAgLy/otoXml7bml7bpl7Torr7nva7vvIzljZXkvY3mr6vnp5IKICAgICAgICB1cmw6IHByb2Nlc3MuZW52LlZVRV9BUFBfUEFUSF9SRVdSSVRFICsgdXJsLAogICAgICAgIGRhdGE6IGRhdGEsCiAgICAgICAgY29udGVudFR5cGU6IGZhbHNlLAogICAgICAgIC8vIOWRiuiviWpRdWVyeeS4jeimgeWOu+iuvue9rkNvbnRlbnQtVHlwZeivt+axguWktAogICAgICAgIHByb2Nlc3NEYXRhOiBmYWxzZSwKICAgICAgICAvLyDlkYror4lqUXVlcnnkuI3opoHljrvlpITnkIblj5HpgIHnmoTmlbDmja4KICAgICAgICBoZWFkZXJzOiBoZWFkZXJzLAogICAgICAgIHN1Y2Nlc3M6IHN1Y2Nlc3MsCiAgICAgICAgZXJyb3I6IGVycm9yCiAgICAgIH0pOwogICAgfSBlbHNlIHsKICAgICAgJC5hamF4KHsKICAgICAgICB0eXBlOiB0eXBlLAogICAgICAgIHRpbWVvdXQ6IDEyMDAwMCwKICAgICAgICAvL+i2heaXtuaXtumXtOiuvue9ru+8jOWNleS9jeavq+enkgogICAgICAgIHVybDogcHJvY2Vzcy5lbnYuVlVFX0FQUF9QQVRIX1JFV1JJVEUgKyB1cmwsCiAgICAgICAgZGF0YTogZGF0YSwKICAgICAgICBjYWNoZTogZmFsc2UsCiAgICAgICAgaGVhZGVyczogaGVhZGVycywKICAgICAgICBzdWNjZXNzOiBzdWNjZXNzLAogICAgICAgIGVycm9yOiBlcnJvcgogICAgICB9KTsKICAgIH0KICB9KTsKfQpleHBvcnQgZnVuY3Rpb24geGhyR2V0KHVybCwgbmFtZSkgewogIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICB2YXIgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7CiAgICB2YXIgeGhydXJsID0gJyc7CgogICAgaWYgKHVybCAmJiB1cmwuaW5kZXhPZignaHR0cDovLycpIHx8IHVybCAmJiB1cmwuaW5kZXhPZignaHR0cHM6Ly8nKSkgewogICAgICB4aHJ1cmwgPSB1cmw7CiAgICB9IGVsc2UgewogICAgICB4aHJ1cmwgPSBwcm9jZXNzLmVudi5WVUVfQVBQX1BBVEhfUkVXUklURSArIHVybDsKICAgIH0KCiAgICB4aHIub3BlbigiR0VUIiwgeGhydXJsLCB0cnVlKTsKICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKCJ0b2tlbiIsIGdldFRva2VuKCkpOwogICAgeGhyLnJlc3BvbnNlVHlwZSA9ICJibG9iIjsKCiAgICB4aHIub25sb2FkID0gZnVuY3Rpb24gKG9FdmVudCkgewogICAgICBpZiAoeGhyLnN0YXR1cyA9PSAyMDApIHsKICAgICAgICBpZiAoeGhyLnJlc3BvbnNlLnNpemUgPCAxMDApIHsKICAgICAgICAgIE1lc3NhZ2UoewogICAgICAgICAgICBtZXNzYWdlOiAn5LiL6L295aSx6LSlJywKICAgICAgICAgICAgdHlwZTogJ2Vycm9yJywKICAgICAgICAgICAgZHVyYXRpb246IDMgKiAxMDAwCiAgICAgICAgICB9KTsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdmFyIGNvbnRlbnQgPSB4aHIucmVzcG9uc2U7CiAgICAgICAgICB2YXIgZmlsZU5hbWUgPSAiIi5jb25jYXQobmFtZSwgIi54bHN4Iik7IC8vIOS/neWtmOeahOaWh+S7tuWQjQoKICAgICAgICAgIHZhciBlbGluayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTsKICAgICAgICAgIGVsaW5rLmRvd25sb2FkID0gZmlsZU5hbWU7CiAgICAgICAgICBlbGluay5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOwogICAgICAgICAgdmFyIGJsb2IgPSBuZXcgQmxvYihbY29udGVudF0pOwogICAgICAgICAgZWxpbmsuaHJlZiA9IFVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7CiAgICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGVsaW5rKTsKICAgICAgICAgIGVsaW5rLmNsaWNrKCk7CiAgICAgICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGVsaW5rKTsKICAgICAgICB9CgogICAgICAgIHJlc29sdmUoKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBNZXNzYWdlKHsKICAgICAgICAgIG1lc3NhZ2U6ICfmnI3liqHlmajnq6/lk43lupTotoXml7Ys6K+356iN5ZCO5YaN6K+VJywKICAgICAgICAgIHR5cGU6ICdlcnJvcicsCiAgICAgICAgICBkdXJhdGlvbjogMyAqIDEwMDAKICAgICAgICB9KTsKICAgICAgICByZWplY3QoJ+acjeWKoeWZqOerr+WTjeW6lOi2heaXtizor7fnqI3lkI7lho3or5UnKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgIH07CgogICAgeGhyLnNlbmQoKTsKICB9KTsKfQpleHBvcnQgZnVuY3Rpb24geGhyR2V0RmlsZSh1cmwsIG5hbWUpIHsKICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgdmFyIHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpOwogICAgeGhyLm9wZW4oIkdFVCIsIHVybCwgdHJ1ZSk7CiAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcigidG9rZW4iLCBnZXRUb2tlbigpKTsKICAgIHhoci5yZXNwb25zZVR5cGUgPSAiYmxvYiI7CgogICAgeGhyLm9ubG9hZCA9IGZ1bmN0aW9uIChvRXZlbnQpIHsKICAgICAgaWYgKHhoci5zdGF0dXMgPT0gMjAwKSB7CiAgICAgICAgaWYgKHhoci5yZXNwb25zZS5zaXplIDwgMTAwKSB7CiAgICAgICAgICBNZXNzYWdlKHsKICAgICAgICAgICAgbWVzc2FnZTogJ+S4i+i9veWksei0pScsCiAgICAgICAgICAgIHR5cGU6ICdlcnJvcicsCiAgICAgICAgICAgIGR1cmF0aW9uOiAzICogMTAwMAogICAgICAgICAgfSk7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHZhciBjb250ZW50ID0geGhyLnJlc3BvbnNlOwogICAgICAgICAgdmFyIGZpbGVOYW1lID0gIiIuY29uY2F0KG5hbWUsICIueGxzeCIpOyAvLyDkv53lrZjnmoTmlofku7blkI0KCiAgICAgICAgICB2YXIgZWxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7CiAgICAgICAgICBlbGluay5kb3dubG9hZCA9IGZpbGVOYW1lOwogICAgICAgICAgZWxpbmsuc3R5bGUuZGlzcGxheSA9ICdub25lJzsKICAgICAgICAgIHZhciBibG9iID0gbmV3IEJsb2IoW2NvbnRlbnRdKTsKICAgICAgICAgIGVsaW5rLmhyZWYgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpOwogICAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChlbGluayk7CiAgICAgICAgICBlbGluay5jbGljaygpOwogICAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChlbGluayk7CiAgICAgICAgfQoKICAgICAgICByZXNvbHZlKCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgTWVzc2FnZSh7CiAgICAgICAgICBtZXNzYWdlOiAn5pyN5Yqh5Zmo56uv5ZON5bqU6LaF5pe2LOivt+eojeWQjuWGjeivlScsCiAgICAgICAgICB0eXBlOiAnZXJyb3InLAogICAgICAgICAgZHVyYXRpb246IDMgKiAxMDAwCiAgICAgICAgfSk7CiAgICAgICAgcmVqZWN0KCfmnI3liqHlmajnq6/lk43lupTotoXml7Ys6K+356iN5ZCO5YaN6K+VJyk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICB9OwoKICAgIHhoci5zZW5kKCk7CiAgfSk7Cn0="},{"version":3,"sources":["/Users/careershe03/Desktop/front-korea/admin/src/utils/req.js"],"names":["MessageBox","Message","getToken","getUserId","showFullScreenLoading","tryHideFullScreenLoading","req","url","data","type","tips","flag","Promise","resolve","reject","headers","Authorization","JSON","stringify","success","res","message","error","err","parse","responseText","console","log","duration","$","ajax","timeout","process","env","VUE_APP_PATH_REWRITE","contentType","processData","cache","xhrGet","name","xhr","XMLHttpRequest","xhrurl","indexOf","open","setRequestHeader","responseType","onload","oEvent","status","response","size","content","fileName","elink","document","createElement","download","style","display","blob","Blob","href","URL","createObjectURL","body","appendChild","click","removeChild","send","xhrGetFile"],"mappings":"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","sourcesContent":["import { MessageBox, Message } from 'element-ui'\nimport { getToken, getUserId } from '@/utils/auth'\nimport {showFullScreenLoading, tryHideFullScreenLoading} from './loading';\n/**\n* 请求\n* @param {String} url \n* @param {Object} data \n* @param {String} type [get|post]\n* @param {Boolean} tips [true=成功提示]\n* @param {Boolean} flag [true=请求失败也返回完整报文]\n* @returns \n* @example\n* \n* req(\"\", {}, \"post\").then(function (res) {\n    console.log(res)\n}).catch(function (err) { });\n*/\nexport function req(url, data, type = 'GET', tips, flag) {\n    showFullScreenLoading();\n    return new Promise(function (resolve, reject) {\n        let headers = {\n            Authorization: getToken() || ''\n        }\n        if (type == \"post\") {\n            headers[\"Content-Type\"] = \"application/json\";\n            data = JSON.stringify(data);\n        }\n        let success = function (res) {\n            if (tips) {\n                Message({\n                    message: res.message,\n                    type: 'success',\n\n                })\n            }\n            //请求成功200 成功才会返回\n            tryHideFullScreenLoading()\n            resolve(res)\n            // else if (res.code == 403) {\n            //     MessageBox.confirm('您已注销，可以取消以停留在此页面，或重新登录', '确认注销', {\n            //         confirmButtonText: '重新登录',\n            //         cancelButtonText: '取消',\n            //         type: 'warning'\n            //     }).then(() => {\n            //         store.dispatch('user/resetToken').then(() => {\n            //             location.reload()\n            //         })\n            //     })\n            //\n            // }\n            // else {\n            //     Message({\n            //         message: res.message,\n            //         type: 'error',\n            //         duration: 3 * 1000\n            //     })\n            //\n            //     if (flag) {//请求失败也返回报文\n            //         resolve(res);\n            //     } else {\n            //         reject(res);\n            //     }\n            // }\n        }\n\n        let error = function (err) {\n            let data = JSON.parse(err.responseText);\n            console.log(data);\n            tryHideFullScreenLoading();\n            Message({\n                message: data.message,\n                type: 'error',\n                duration: 3 * 1000\n            })\n            reject(data.message);\n        }\n        if (type == 'upload') {\n            $.ajax({\n                type: \"post\",\n                timeout: 120000, //超时时间设置，单位毫秒\n                url: process.env.VUE_APP_PATH_REWRITE + url,\n                data: data,\n                contentType: false,\n                // 告诉jQuery不要去设置Content-Type请求头\n                processData: false,\n                // 告诉jQuery不要去处理发送的数据\n                headers: headers,\n                success: success,\n                error: error,\n            });\n        } else {\n            $.ajax({\n                type: type,\n                timeout: 120000, //超时时间设置，单位毫秒\n                url: process.env.VUE_APP_PATH_REWRITE + url,\n                data: data,\n                cache: false,\n                headers: headers,\n                success: success,\n                error: error,\n            });\n        }\n    });\n}\n\n\n\nexport function xhrGet(url, name) {\n    return new Promise(function (resolve, reject) {\n        var xhr = new XMLHttpRequest();\n        let xhrurl = '';\n        if ((url && url.indexOf('http://')) || (url && url.indexOf('https://'))) {\n            xhrurl = url;\n        } else {\n            xhrurl = process.env.VUE_APP_PATH_REWRITE + url;\n        }\n\n\n        xhr.open(\"GET\", xhrurl, true);\n        xhr.setRequestHeader(\"token\", getToken());\n        xhr.responseType = \"blob\";\n        xhr.onload = function (oEvent) {\n            if (xhr.status == 200) {\n                if (xhr.response.size < 100) {\n                    Message({\n                        message: '下载失败',\n                        type: 'error',\n                        duration: 3 * 1000\n                    })\n                    return\n                } else {\n                    var content = xhr.response;\n                    var fileName = `${name}.xlsx`; // 保存的文件名\n                    var elink = document.createElement('a');\n                    elink.download = fileName;\n                    elink.style.display = 'none';\n                    var blob = new Blob([content]);\n                    elink.href = URL.createObjectURL(blob);\n                    document.body.appendChild(elink);\n                    elink.click();\n                    document.body.removeChild(elink);\n                }\n                resolve();\n            } else {\n                Message({\n                    message: '服务器端响应超时,请稍后再试',\n                    type: 'error',\n                    duration: 3 * 1000\n                })\n                reject('服务器端响应超时,请稍后再试');\n                return\n            }\n\n        };\n        xhr.send();\n    });\n}\n\n\nexport function xhrGetFile(url, name) {\n    return new Promise(function (resolve, reject) {\n        var xhr = new XMLHttpRequest();\n        xhr.open(\"GET\", url, true);\n        xhr.setRequestHeader(\"token\", getToken());\n        xhr.responseType = \"blob\";\n        xhr.onload = function (oEvent) {\n            if (xhr.status == 200) {\n                if (xhr.response.size < 100) {\n                    Message({\n                        message: '下载失败',\n                        type: 'error',\n                        duration: 3 * 1000\n                    })\n                    return\n                } else {\n                    var content = xhr.response;\n                    var fileName = `${name}.xlsx`; // 保存的文件名\n                    var elink = document.createElement('a');\n                    elink.download = fileName;\n                    elink.style.display = 'none';\n                    var blob = new Blob([content]);\n                    elink.href = URL.createObjectURL(blob);\n                    document.body.appendChild(elink);\n                    elink.click();\n                    document.body.removeChild(elink);\n                }\n                resolve();\n            } else {\n                Message({\n                    message: '服务器端响应超时,请稍后再试',\n                    type: 'error',\n                    duration: 3 * 1000\n                })\n                reject('服务器端响应超时,请稍后再试');\n                return\n            }\n\n        };\n        xhr.send();\n    });\n}\n"]}]}