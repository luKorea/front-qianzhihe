{"remainingRequest":"/Users/careershe03/Desktop/front-korea/admin/node_modules/babel-loader/lib/index.js!/Users/careershe03/Desktop/front-korea/admin/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/careershe03/Desktop/front-korea/admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/careershe03/Desktop/front-korea/admin/src/views/teachers/operation/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/careershe03/Desktop/front-korea/admin/src/views/teachers/operation/index.vue","mtime":1624866036492},{"path":"/Users/careershe03/Desktop/front-korea/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/careershe03/Desktop/front-korea/admin/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/careershe03/Desktop/front-korea/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/careershe03/Desktop/front-korea/admin/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgc2VsZWN0VHlwZUxpc3QgfSBmcm9tICIuLi8uLi8uLi9hcGkvc2VhcmNoIjsKaW1wb3J0IHsgdmFsaWRhdGVQYXNzd29yZCwgdmFsaWRhdGVQaG9uZSwgdmFsaWRhdGVUZWFjaGVyTmFtZSwgdmFsaWRhdGVUZWFjaGVyVHlwZSwgdmFsaWRhdGVVc2VybmFtZSB9IGZyb20gIi4uLy4uLy4uL3V0aWxzL3ZhbGlkYXRlIjsKaW1wb3J0IHsgYWRkVGVhY2hlciwgZ2V0RWRpdEluZm8sIHVwZGF0ZVRlYWNoZXIgfSBmcm9tICIuLi8uLi8uLi9hcGkvdGFlY2hlciI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiaW5kZXgiLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB0eXBlOiAnYWRkJywKICAgICAgdGV4dDogJ+eri+WNs+a3u+WKoCcsCiAgICAgIGZvcm06IHsKICAgICAgICBuYW1lOiAnJywKICAgICAgICAvLyDmlZnluIjlkI3np7AKICAgICAgICBwYXNzd29yZDogJycsCiAgICAgICAgLy8g5a+G56CBCiAgICAgICAgcGhvbmU6ICcnLAogICAgICAgIC8v5omL5py65Y+3CiAgICAgICAgdGVhY2hlclR5cGU6ICcnLAogICAgICAgIC8v5pWZ5biI57G75Z6LCiAgICAgICAgdXNlcm5hbWU6ICcnLAogICAgICAgIC8vIOeUqOaIt+WQjQogICAgICAgIG5vdGU6ICcnCiAgICAgIH0sCiAgICAgIHJ1bGVzOiB7CiAgICAgICAgdXNlcm5hbWU6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJywKICAgICAgICAgIHZhbGlkYXRvcjogdmFsaWRhdGVVc2VybmFtZQogICAgICAgIH1dLAogICAgICAgIHBhc3N3b3JkOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicsCiAgICAgICAgICB2YWxpZGF0b3I6IHZhbGlkYXRlUGFzc3dvcmQKICAgICAgICB9XSwKICAgICAgICBuYW1lOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicsCiAgICAgICAgICB2YWxpZGF0b3I6IHZhbGlkYXRlVGVhY2hlck5hbWUKICAgICAgICB9XSwKICAgICAgICB0ZWFjaGVyVHlwZTogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInLAogICAgICAgICAgdmFsaWRhdG9yOiB2YWxpZGF0ZVRlYWNoZXJUeXBlCiAgICAgICAgfV0sCiAgICAgICAgcGhvbmU6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJywKICAgICAgICAgIHZhbGlkYXRvcjogdmFsaWRhdGVQaG9uZQogICAgICAgIH1dCiAgICAgIH0sCiAgICAgIHRlYWNoZXJMaXN0OiBbXQogICAgfTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB2YXIgX3RoaXMkJHJvdXRlJHF1ZXJ5ID0gdGhpcy4kcm91dGUucXVlcnksCiAgICAgICAgdHlwZSA9IF90aGlzJCRyb3V0ZSRxdWVyeS50eXBlLAogICAgICAgIGlkID0gX3RoaXMkJHJvdXRlJHF1ZXJ5LmlkOwogICAgdGhpcy50eXBlID0gdHlwZTsKICAgIHRoaXMudGV4dCA9IHR5cGUgPT09ICdhZGQnID8gJ+eri+WNs+a3u+WKoCcgOiAn5L+d5a2YJzsKICAgIHRoaXMuJHJvdXRlLm1ldGEudGl0bGUgPSB0eXBlID09PSAnYWRkJyA/ICfmlrDlop7mlZnluIgnIDogJ+e8lui+keaVmeW4iCc7CiAgICB0aGlzLmlkID0gaWQ7CiAgICB0aGlzLmdldFRlYWNoZXJUeXBlKCk7CiAgICB0aGlzLnN3aXRjaERhdGEoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIHN3aXRjaERhdGE6IGZ1bmN0aW9uIHN3aXRjaERhdGEoKSB7CiAgICAgIHN3aXRjaCAodGhpcy50eXBlKSB7CiAgICAgICAgY2FzZSAiYWRkIjoKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBjYXNlICJlZGl0IjoKICAgICAgICAgIHRoaXMuZ2V0RWRpdERhdGEodGhpcy5pZCk7CiAgICAgICAgICBicmVhazsKICAgICAgfQogICAgfSwKICAgIGdldFRlYWNoZXJUeXBlOiBmdW5jdGlvbiBnZXRUZWFjaGVyVHlwZSgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHNlbGVjdFR5cGVMaXN0KCd0ZWFjaGVyVHlwZScpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIGlmIChyZXMuZXJyb3JDb2RlID09PSAyMDApIHsKICAgICAgICAgIF90aGlzLnRlYWNoZXJMaXN0ID0gcmVzLmRhdGE7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBnZXRFZGl0RGF0YTogZnVuY3Rpb24gZ2V0RWRpdERhdGEoaWQpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICBnZXRFZGl0SW5mbyhpZCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgaWYgKHJlcy5lcnJvckNvZGUgPT09IDIwMCkgewogICAgICAgICAgX3RoaXMyLmZvcm0gPSByZXMuZGF0YTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGdvQmFjazogZnVuY3Rpb24gZ29CYWNrKCkgewogICAgICB0aGlzLiRyb3V0ZXIuZ28oLTEpOwogICAgfSwKICAgIG9wZXJhdGlvbkRhdGE6IGZ1bmN0aW9uIG9wZXJhdGlvbkRhdGEoKSB7CiAgICAgIHZhciB0aGF0ID0gdGhpczsKICAgICAgdGhhdC4kcmVmc1snZm9ybSddLnZhbGlkYXRlKGZ1bmN0aW9uICh2YWxpZCkgewogICAgICAgIGlmICh2YWxpZCkgewogICAgICAgICAgaWYgKHRoYXQudHlwZSA9PT0gJ2FkZCcpIHsKICAgICAgICAgICAgdGhhdC5hZGREYXRhKHRoYXQuZm9ybSk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB0aGF0LnVwZGF0ZURhdGEodGhhdC5mb3JtKTsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgYWRkRGF0YTogZnVuY3Rpb24gYWRkRGF0YShkYXRhKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgYWRkVGVhY2hlcihkYXRhKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBpZiAocmVzLmVycm9yQ29kZSA9PT0gMjAwKSB7CiAgICAgICAgICBfdGhpczMuJG1lc3NhZ2Uuc3VjY2Vzcygn5paw5aKe5oiQ5YqfJyk7CgogICAgICAgICAgX3RoaXMzLmdvQmFjaygpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgdXBkYXRlRGF0YTogZnVuY3Rpb24gdXBkYXRlRGF0YShkYXRhKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgY29uc29sZS5sb2coZGF0YSk7CiAgICAgIHVwZGF0ZVRlYWNoZXIoZGF0YSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgY29uc29sZS5sb2cocmVzKTsKCiAgICAgICAgaWYgKHJlcy5lcnJvckNvZGUgPT09IDIwMCkgewogICAgICAgICAgX3RoaXM0LiRtZXNzYWdlLnN1Y2Nlc3MoJ+S/ruaUueaIkOWKnycpOwoKICAgICAgICAgIF90aGlzNC5nb0JhY2soKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"sources":["index.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div>\n    <el-form label-width=\"80px\" :model=\"form\" :rules=\"rules\" ref=\"form\">\n      <basic-container>\n        <span class=\"tip-info\"></span>\n        <span class=\"tip-title\">基本信息</span>\n        <div style=\"margin-top: 20px\">\n          <el-row :gutter=\"4\">\n            <el-col :span=\"10\">\n              <el-form-item label=\"教师名称\" required prop=\"name\">\n                <el-input v-model=\"form.name\"></el-input>\n              </el-form-item>\n            </el-col>\n            <el-col :span=\"10\">\n              <el-form-item label=\"教师类型\" required prop=\"teacherType\">\n                <el-select v-model=\"form.teacherType\" placeholder=\"请选择\" clearable style=\"width: 100%\">\n                  <template v-if=\"teacherList && teacherList.length > 0\">\n                    <el-option v-for=\"item in teacherList\" :label=\"item.name\" :value=\"item.name\"></el-option>\n                  </template>\n                </el-select>\n              </el-form-item>\n            </el-col>\n          </el-row>\n          <el-row :gutter=\"4\">\n            <el-col :span=\"10\">\n              <el-form-item label=\"手机号\" required prop=\"phone\">\n                <el-input v-model=\"form.phone\"></el-input>\n              </el-form-item>\n            </el-col>\n            <el-col :span=\"10\">\n              <el-form-item label=\"备注\">\n                <el-input v-model=\"form.note\"></el-input>\n              </el-form-item>\n            </el-col>\n          </el-row>\n        </div>\n      </basic-container>\n      <basic-container>\n        <span class=\"tip-info\"></span>\n        <span class=\"tip-title\">账号信息</span>\n        <div style=\"margin-top: 20px\">\n          <el-row :gutter=\"4\">\n            <el-col :span=\"10\">\n              <el-form-item label=\"登录账号\" required prop=\"username\">\n                <el-input v-model=\"form.username\"></el-input>\n              </el-form-item>\n            </el-col>\n            <el-col :span=\"10\">\n              <el-form-item label=\"登录密码\" required prop=\"password\">\n                <el-input v-model=\"form.password\" type=\"password\" clearable></el-input>\n              </el-form-item>\n            </el-col>\n          </el-row>\n        </div>\n      </basic-container>\n    </el-form>\n    <div class=\"footer-btn\">\n      <el-button style=\"color: #475B75\" @click=\"goBack\">取消</el-button>\n      <el-button type=\"primary\" @click=\"operationData\">{{text}}</el-button>\n    </div>\n  </div>\n</template>\n\n<script>\nimport {selectTypeList} from \"../../../api/search\";\nimport {\n  validatePassword,\n  validatePhone,\n  validateTeacherName,\n  validateTeacherType,\n  validateUsername\n} from \"../../../utils/validate\";\nimport {addTeacher, getEditInfo, updateTeacher} from \"../../../api/taecher\";\n\nexport default {\n  name: \"index\",\n  data() {\n    return {\n      type: 'add',\n      text: '立即添加',\n      form: {\n        name: '', // 教师名称\n        password: '', // 密码\n        phone: '', //手机号\n        teacherType: '', //教师类型\n        username: '', // 用户名\n        note: ''\n      },\n      rules: {\n        username: [{required: true, trigger: 'blur', validator: validateUsername}],\n        password: [{required: true, trigger: 'blur', validator: validatePassword}],\n        name: [{required: true, trigger: 'blur', validator: validateTeacherName}],\n        teacherType: [{required: true, trigger: 'blur', validator: validateTeacherType}],\n        phone: [{required: true, trigger: 'blur', validator: validatePhone}],\n      },\n      teacherList: []\n    }\n  },\n  mounted() {\n    let {type, id} = this.$route.query;\n    this.type = type;\n    this.text = type === 'add' ? '立即添加' : '保存';\n    this.$route.meta.title = type === 'add' ? '新增教师' : '编辑教师';\n    this.id = id;\n    this.getTeacherType();\n    this.switchData();\n  },\n  methods: {\n    switchData() {\n      switch (this.type) {\n        case \"add\":\n          break;\n        case \"edit\":\n          this.getEditData(this.id);\n          break;\n      }\n    },\n    getTeacherType() {\n      selectTypeList('teacherType')\n          .then(res => {\n            if (res.errorCode === 200) {\n              this.teacherList = res.data;\n            }\n          })\n    },\n    getEditData(id) {\n      getEditInfo(id)\n      .then(res => {\n        if (res.errorCode === 200) {\n          this.form = res.data;\n        }\n      })\n    },\n    goBack() {\n      this.$router.go(-1);\n    },\n    operationData() {\n      let that = this;\n      that.$refs['form'].validate(valid => {\n        if (valid) {\n          if (that.type === 'add') {\n            that.addData(that.form)\n          } else {\n            that.updateData(that.form)\n          }\n        } else {\n          return false;\n        }\n      })\n    },\n    addData(data) {\n      addTeacher(data)\n      .then(res => {\n        if (res.errorCode === 200) {\n          this.$message.success('新增成功');\n          this.goBack();\n        }\n      })\n    },\n    updateData(data) {\n      console.log(data);\n      updateTeacher(data)\n      .then(res => {\n        console.log(res);\n        if (res.errorCode === 200) {\n          this.$message.success('修改成功');\n          this.goBack();\n        }\n      })\n    }\n  }\n}\n</script>\n\n<style scoped>\n</style>"],"sourceRoot":"src/views/teachers/operation"}]}