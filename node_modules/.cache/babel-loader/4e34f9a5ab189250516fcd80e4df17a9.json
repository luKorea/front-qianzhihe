{"remainingRequest":"/Users/careershe03/Desktop/front-korea/admin/node_modules/babel-loader/lib/index.js!/Users/careershe03/Desktop/front-korea/admin/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/careershe03/Desktop/front-korea/admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/careershe03/Desktop/front-korea/admin/src/views/UploadExcel/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/careershe03/Desktop/front-korea/admin/src/views/UploadExcel/index.vue","mtime":1623981807678},{"path":"/Users/careershe03/Desktop/front-korea/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/careershe03/Desktop/front-korea/admin/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/careershe03/Desktop/front-korea/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/careershe03/Desktop/front-korea/admin/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgcmVxIH0gZnJvbSAnQC91dGlscy9yZXEuanMnOwovKioKICogVE9ETzrkuIrkvKDmlofku7bmqKHmnb8KICovCgpleHBvcnQgZGVmYXVsdCB7CiAgcHJvcHM6IHsKICAgIGRhdGE6IHt9CiAgfSwKICB3YXRjaDoge30sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGlzVXBsb2FkaW5nOiBmYWxzZQogICAgfTsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7fSwKICBtZXRob2RzOiB7CiAgICAvLyBodHRwLXJlcXVlc3Qo6K+35rGCKQogICAgaGFuZGxlRmlsZVVwbG9hZDogZnVuY3Rpb24gaGFuZGxlRmlsZVVwbG9hZCh2YWwpIHsKICAgICAgdmFyIHRoYXQgPSB0aGlzOwogICAgICB2YXIgZm9ybSA9IG5ldyBGb3JtRGF0YSgpOwogICAgICBmb3JtLmFwcGVuZCgnZmlsZScsIHZhbC5maWxlKTsKICAgICAgdGhhdC5pc1VwbG9hZGluZyA9IHRydWU7CiAgICAgIHZhciBsb2FkaW5nID0gdGhpcy4kbG9hZGluZyh7CiAgICAgICAgbG9jazogdHJ1ZSwKICAgICAgICB0ZXh0OiAn5paH5Lu25LiK5Lyg5LitJywKICAgICAgICBzcGlubmVyOiAnZWwtaWNvbi1sb2FkaW5nJywKICAgICAgICBiYWNrZ3JvdW5kOiAncmdiYSgwLCAwLCAwLCAwLjcpJwogICAgICB9KTsKICAgICAgcmVxKHRoYXQuZGF0YS51cmwsIGZvcm0sICJ1cGxvYWQiLCB0cnVlLCB0cnVlKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBjb25zb2xlLmxvZyhyZXMpOwogICAgICAgIHRoYXQuJHJlZnMudXBsb2FkLmNsZWFyRmlsZXMoKTsKICAgICAgICB0aGF0LmlzVXBsb2FkaW5nID0gZmFsc2U7CiAgICAgICAgdGhhdC4kZW1pdCgnY2xvc2VEaWFsb2cnKTsKICAgICAgICBsb2FkaW5nLmNsb3NlKCk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICB0aGF0LiRyZWZzLnVwbG9hZC5jbGVhckZpbGVzKCk7CiAgICAgICAgdGhhdC5pc1VwbG9hZGluZyA9IGZhbHNlOwogICAgICAgIGxvYWRpbmcuY2xvc2UoKTsKICAgICAgfSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;AAiBA,SAAA,GAAA,QAAA,gBAAA;AACA;AACA;AACA;;AACA,eAAA;AACA,EAAA,KAAA,EAAA;AACA,IAAA,IAAA,EAAA;AADA,GADA;AAIA,EAAA,KAAA,EAAA,EAJA;AAOA,EAAA,IAPA,kBAOA;AACA,WAAA;AACA,MAAA,WAAA,EAAA;AADA,KAAA;AAGA,GAXA;AAYA,EAAA,OAZA,qBAYA,CACA,CAbA;AAcA,EAAA,OAAA,EAAA;AACA;AACA,IAAA,gBAFA,4BAEA,GAFA,EAEA;AACA,UAAA,IAAA,GAAA,IAAA;AACA,UAAA,IAAA,GAAA,IAAA,QAAA,EAAA;AACA,MAAA,IAAA,CAAA,MAAA,CAAA,MAAA,EAAA,GAAA,CAAA,IAAA;AACA,MAAA,IAAA,CAAA,WAAA,GAAA,IAAA;AACA,UAAA,OAAA,GAAA,KAAA,QAAA,CAAA;AACA,QAAA,IAAA,EAAA,IADA;AAEA,QAAA,IAAA,EAAA,OAFA;AAGA,QAAA,OAAA,EAAA,iBAHA;AAIA,QAAA,UAAA,EAAA;AAJA,OAAA,CAAA;AAMA,MAAA,GAAA,CAAA,IAAA,CAAA,IAAA,CAAA,GAAA,EAAA,IAAA,EAAA,QAAA,EAAA,IAAA,EAAA,IAAA,CAAA,CAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,GAAA;AACA,QAAA,IAAA,CAAA,KAAA,CAAA,MAAA,CAAA,UAAA;AACA,QAAA,IAAA,CAAA,WAAA,GAAA,KAAA;AACA,QAAA,IAAA,CAAA,KAAA,CAAA,aAAA;AACA,QAAA,OAAA,CAAA,KAAA;AACA,OANA,EAMA,KANA,CAMA,UAAA,GAAA,EAAA;AACA,QAAA,IAAA,CAAA,KAAA,CAAA,MAAA,CAAA,UAAA;AACA,QAAA,IAAA,CAAA,WAAA,GAAA,KAAA;AACA,QAAA,OAAA,CAAA,KAAA;AACA,OAVA;AAWA;AAxBA;AAdA,CAAA","sourcesContent":["<template>\n    <div class=\"row-c UploadExcel \">\n        <el-upload ref=\"upload\" style=\"margin: auto;\" :limit=\"1\" accept=\".xlsx, .xls\" :action=\"data.url\" :disabled=\"isUploading\" :http-request=\"handleFileUpload\" :auto-upload=\"true\" drag>\n            <i class=\"el-icon-upload\" />\n            <div class=\"el-upload__text\">将文件拖到此处，或<em>点击上传</em></div>\n            <div slot=\"tip\" class=\"el-upload__tip\" style=\"color:#ff0000;text-align: center;\">\n                <el-link :href=\"data.href\" class=\"dowloadX\" :download=\"data.title+'导入模板.xlsx'\" type=\"primary\" style=\"font-size:12px\" icon=\"el-icon-warning-outline\">\n                    下载{{data.title}}导入模板</el-link>\n                <br v-if=\"data.msg\">\n                {{data.msg}}\n                <br>\n                提示：仅允许导入“xls”或“xlsx”格式文件！\n            </div>\n        </el-upload>\n    </div>\n</template>\n<script>\nimport { req } from '@/utils/req.js'\n/**\n * TODO:上传文件模板\n */\nexport default {\n  props: {\n    data: {},\n  },\n  watch: {\n\n  },\n  data() {\n    return {\n      isUploading: false,\n    };\n  },\n  created() {\n  },\n  methods: {\n    // http-request(请求)\n    handleFileUpload(val) {\n      let that = this;\n      const form = new FormData()\n      form.append('file', val.file)\n      that.isUploading = true;\n      const loading = this.$loading({\n        lock: true,\n        text: '文件上传中',\n        spinner: 'el-icon-loading',\n        background: 'rgba(0, 0, 0, 0.7)'\n      });\n      req(that.data.url, form, \"upload\", true, true).then(function (res) {\n        console.log(res);\n        that.$refs.upload.clearFiles()\n        that.isUploading = false\n        that.$emit('closeDialog')\n        loading.close();\n      }).catch(function (err) {\n        that.$refs.upload.clearFiles()\n        that.isUploading = false\n        loading.close();\n      });\n    },\n  }\n};\n</script>\n<style lang=\"scss\">\n.UploadExcel .el-upload {\n  width: 100%;\n  .el-upload-dragger {\n    width: auto;\n  }\n}\n</style>\n"],"sourceRoot":"src/views/UploadExcel"}]}