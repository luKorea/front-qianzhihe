{"remainingRequest":"/Users/careershe03/Desktop/front-korea/admin/node_modules/babel-loader/lib/index.js!/Users/careershe03/Desktop/front-korea/admin/src/utils/auth.js","dependencies":[{"path":"/Users/careershe03/Desktop/front-korea/admin/src/utils/auth.js","mtime":1625016694138},{"path":"/Users/careershe03/Desktop/front-korea/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/careershe03/Desktop/front-korea/admin/node_modules/babel-loader/lib/index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IENvb2tpZXMgZnJvbSAnanMtY29va2llJzsKdmFyIFRva2VuS2V5ID0gJ1Rva2VuJzsgLy/ot5/liY3lj7DlhbHnlKjkuIDlpZfnmbvlvZV0b2tlbiDmlLnkuLp0b2tlbgoKZXhwb3J0IGZ1bmN0aW9uIGdldFRva2VuKCkgewogIHJldHVybiBDb29raWVzLmdldChUb2tlbktleSk7Cn0KZXhwb3J0IGZ1bmN0aW9uIHNldFRva2VuKHRva2VuKSB7CiAgcmV0dXJuIENvb2tpZXMuc2V0KFRva2VuS2V5LCB0b2tlbik7Cn0KZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZVRva2VuKCkgewogIHJldHVybiBDb29raWVzLnJlbW92ZShUb2tlbktleSk7Cn0KLyoqCiAqIOmAmui/h21ldGEucm9sZeWIpOaWreaYr+WQpuS4juW9k+WJjeeUqOaIt+adg+mZkOWMuemFjQogKiBAcGFyYW0gdXNlclJvbGVzIC8v55So5oi35p2D6ZmQCiAqIEBwYXJhbSByb3V0ZSAvL+e9kemhtei3r+eUseadg+mZkAogKi8KCmV4cG9ydCBmdW5jdGlvbiBoYXNQZXJtaXNzaW9uKHVzZXJSb2xlcywgcm91dGUpIHsKICBpZiAocm91dGUgJiYgcm91dGUubWV0YSAmJiByb3V0ZS5tZXRhLnJvbGVzKSB7CiAgICByZXR1cm4gdXNlclJvbGVzLnNvbWUoZnVuY3Rpb24gKHJvbGUpIHsKICAgICAgcmV0dXJuIHJvdXRlLm1ldGEucm9sZXMuaW5kZXhPZihyb2xlKSA+PSAwOwogICAgfSk7CiAgfSBlbHNlIHsKICAgIHJldHVybiB0cnVlOwogIH0KfQ=="},{"version":3,"sources":["/Users/careershe03/Desktop/front-korea/admin/src/utils/auth.js"],"names":["Cookies","TokenKey","getToken","get","setToken","token","set","removeToken","remove","hasPermission","userRoles","route","meta","roles","some","role","indexOf"],"mappings":"AAAA,OAAOA,OAAP,MAAoB,WAApB;AAEA,IAAMC,QAAQ,GAAG,OAAjB,C,CAAwB;;AAGxB,OAAO,SAASC,QAAT,GAAoB;AACzB,SAAOF,OAAO,CAACG,GAAR,CAAYF,QAAZ,CAAP;AACD;AAED,OAAO,SAASG,QAAT,CAAkBC,KAAlB,EAAyB;AAC9B,SAAOL,OAAO,CAACM,GAAR,CAAYL,QAAZ,EAAsBI,KAAtB,CAAP;AACD;AAED,OAAO,SAASE,WAAT,GAAuB;AAC5B,SAAOP,OAAO,CAACQ,MAAR,CAAeP,QAAf,CAAP;AACD;AAED;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASQ,aAAT,CAAuBC,SAAvB,EAAkCC,KAAlC,EAAyC;AAC9C,MAAIA,KAAK,IAAIA,KAAK,CAACC,IAAf,IAAuBD,KAAK,CAACC,IAAN,CAAWC,KAAtC,EAA6C;AAC3C,WAAOH,SAAS,CAACI,IAAV,CAAe,UAAAC,IAAI;AAAA,aAAIJ,KAAK,CAACC,IAAN,CAAWC,KAAX,CAAiBG,OAAjB,CAAyBD,IAAzB,KAAkC,CAAtC;AAAA,KAAnB,CAAP;AACD,GAFD,MAEO;AACL,WAAO,IAAP;AACD;AACF","sourcesContent":["import Cookies from 'js-cookie'\n\nconst TokenKey = 'Token'//跟前台共用一套登录token 改为token\n\n\nexport function getToken() {\n  return Cookies.get(TokenKey)\n}\n\nexport function setToken(token) {\n  return Cookies.set(TokenKey, token)\n}\n\nexport function removeToken() {\n  return Cookies.remove(TokenKey)\n}\n\n/**\n * 通过meta.role判断是否与当前用户权限匹配\n * @param userRoles //用户权限\n * @param route //网页路由权限\n */\nexport function hasPermission(userRoles, route) {\n  if (route && route.meta && route.meta.roles) {\n    return userRoles.some(role => route.meta.roles.indexOf(role) >= 0)\n  } else {\n    return true\n  }\n}\n"]}]}