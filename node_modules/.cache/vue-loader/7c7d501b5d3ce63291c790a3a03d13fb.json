{"remainingRequest":"/Users/careershe03/Desktop/front-korea/admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/careershe03/Desktop/front-korea/admin/src/views/UploadExcel/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/careershe03/Desktop/front-korea/admin/src/views/UploadExcel/index.vue","mtime":1623981807678},{"path":"/Users/careershe03/Desktop/front-korea/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/careershe03/Desktop/front-korea/admin/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/careershe03/Desktop/front-korea/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/careershe03/Desktop/front-korea/admin/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IHJlcSB9IGZyb20gJ0AvdXRpbHMvcmVxLmpzJwovKioKICogVE9ETzrkuIrkvKDmlofku7bmqKHmnb8KICovCmV4cG9ydCBkZWZhdWx0IHsKICBwcm9wczogewogICAgZGF0YToge30sCiAgfSwKICB3YXRjaDogewoKICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBpc1VwbG9hZGluZzogZmFsc2UsCiAgICB9OwogIH0sCiAgY3JlYXRlZCgpIHsKICB9LAogIG1ldGhvZHM6IHsKICAgIC8vIGh0dHAtcmVxdWVzdCjor7fmsYIpCiAgICBoYW5kbGVGaWxlVXBsb2FkKHZhbCkgewogICAgICBsZXQgdGhhdCA9IHRoaXM7CiAgICAgIGNvbnN0IGZvcm0gPSBuZXcgRm9ybURhdGEoKQogICAgICBmb3JtLmFwcGVuZCgnZmlsZScsIHZhbC5maWxlKQogICAgICB0aGF0LmlzVXBsb2FkaW5nID0gdHJ1ZTsKICAgICAgY29uc3QgbG9hZGluZyA9IHRoaXMuJGxvYWRpbmcoewogICAgICAgIGxvY2s6IHRydWUsCiAgICAgICAgdGV4dDogJ+aWh+S7tuS4iuS8oOS4rScsCiAgICAgICAgc3Bpbm5lcjogJ2VsLWljb24tbG9hZGluZycsCiAgICAgICAgYmFja2dyb3VuZDogJ3JnYmEoMCwgMCwgMCwgMC43KScKICAgICAgfSk7CiAgICAgIHJlcSh0aGF0LmRhdGEudXJsLCBmb3JtLCAidXBsb2FkIiwgdHJ1ZSwgdHJ1ZSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgY29uc29sZS5sb2cocmVzKTsKICAgICAgICB0aGF0LiRyZWZzLnVwbG9hZC5jbGVhckZpbGVzKCkKICAgICAgICB0aGF0LmlzVXBsb2FkaW5nID0gZmFsc2UKICAgICAgICB0aGF0LiRlbWl0KCdjbG9zZURpYWxvZycpCiAgICAgICAgbG9hZGluZy5jbG9zZSgpOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgdGhhdC4kcmVmcy51cGxvYWQuY2xlYXJGaWxlcygpCiAgICAgICAgdGhhdC5pc1VwbG9hZGluZyA9IGZhbHNlCiAgICAgICAgbG9hZGluZy5jbG9zZSgpOwogICAgICB9KTsKICAgIH0sCiAgfQp9Owo="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAiBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/UploadExcel","sourcesContent":["<template>\n    <div class=\"row-c UploadExcel \">\n        <el-upload ref=\"upload\" style=\"margin: auto;\" :limit=\"1\" accept=\".xlsx, .xls\" :action=\"data.url\" :disabled=\"isUploading\" :http-request=\"handleFileUpload\" :auto-upload=\"true\" drag>\n            <i class=\"el-icon-upload\" />\n            <div class=\"el-upload__text\">将文件拖到此处，或<em>点击上传</em></div>\n            <div slot=\"tip\" class=\"el-upload__tip\" style=\"color:#ff0000;text-align: center;\">\n                <el-link :href=\"data.href\" class=\"dowloadX\" :download=\"data.title+'导入模板.xlsx'\" type=\"primary\" style=\"font-size:12px\" icon=\"el-icon-warning-outline\">\n                    下载{{data.title}}导入模板</el-link>\n                <br v-if=\"data.msg\">\n                {{data.msg}}\n                <br>\n                提示：仅允许导入“xls”或“xlsx”格式文件！\n            </div>\n        </el-upload>\n    </div>\n</template>\n<script>\nimport { req } from '@/utils/req.js'\n/**\n * TODO:上传文件模板\n */\nexport default {\n  props: {\n    data: {},\n  },\n  watch: {\n\n  },\n  data() {\n    return {\n      isUploading: false,\n    };\n  },\n  created() {\n  },\n  methods: {\n    // http-request(请求)\n    handleFileUpload(val) {\n      let that = this;\n      const form = new FormData()\n      form.append('file', val.file)\n      that.isUploading = true;\n      const loading = this.$loading({\n        lock: true,\n        text: '文件上传中',\n        spinner: 'el-icon-loading',\n        background: 'rgba(0, 0, 0, 0.7)'\n      });\n      req(that.data.url, form, \"upload\", true, true).then(function (res) {\n        console.log(res);\n        that.$refs.upload.clearFiles()\n        that.isUploading = false\n        that.$emit('closeDialog')\n        loading.close();\n      }).catch(function (err) {\n        that.$refs.upload.clearFiles()\n        that.isUploading = false\n        loading.close();\n      });\n    },\n  }\n};\n</script>\n<style lang=\"scss\">\n.UploadExcel .el-upload {\n  width: 100%;\n  .el-upload-dragger {\n    width: auto;\n  }\n}\n</style>\n"]}]}