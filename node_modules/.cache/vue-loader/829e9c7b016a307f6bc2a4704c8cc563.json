{"remainingRequest":"/Users/careershe03/Desktop/front-korea/admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/careershe03/Desktop/front-korea/admin/src/views/UploadExcel/index.vue?vue&type=style&index=0&lang=scss&","dependencies":[{"path":"/Users/careershe03/Desktop/front-korea/admin/src/views/UploadExcel/index.vue","mtime":1623981807678},{"path":"/Users/careershe03/Desktop/front-korea/admin/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/careershe03/Desktop/front-korea/admin/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/careershe03/Desktop/front-korea/admin/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/careershe03/Desktop/front-korea/admin/node_modules/sass-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/careershe03/Desktop/front-korea/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/careershe03/Desktop/front-korea/admin/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi5VcGxvYWRFeGNlbCAuZWwtdXBsb2FkIHsKICB3aWR0aDogMTAwJTsKICAuZWwtdXBsb2FkLWRyYWdnZXIgewogICAgd2lkdGg6IGF1dG87CiAgfQp9Cg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgEA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/UploadExcel","sourcesContent":["<template>\n    <div class=\"row-c UploadExcel \">\n        <el-upload ref=\"upload\" style=\"margin: auto;\" :limit=\"1\" accept=\".xlsx, .xls\" :action=\"data.url\" :disabled=\"isUploading\" :http-request=\"handleFileUpload\" :auto-upload=\"true\" drag>\n            <i class=\"el-icon-upload\" />\n            <div class=\"el-upload__text\">将文件拖到此处，或<em>点击上传</em></div>\n            <div slot=\"tip\" class=\"el-upload__tip\" style=\"color:#ff0000;text-align: center;\">\n                <el-link :href=\"data.href\" class=\"dowloadX\" :download=\"data.title+'导入模板.xlsx'\" type=\"primary\" style=\"font-size:12px\" icon=\"el-icon-warning-outline\">\n                    下载{{data.title}}导入模板</el-link>\n                <br v-if=\"data.msg\">\n                {{data.msg}}\n                <br>\n                提示：仅允许导入“xls”或“xlsx”格式文件！\n            </div>\n        </el-upload>\n    </div>\n</template>\n<script>\nimport { req } from '@/utils/req.js'\n/**\n * TODO:上传文件模板\n */\nexport default {\n  props: {\n    data: {},\n  },\n  watch: {\n\n  },\n  data() {\n    return {\n      isUploading: false,\n    };\n  },\n  created() {\n  },\n  methods: {\n    // http-request(请求)\n    handleFileUpload(val) {\n      let that = this;\n      const form = new FormData()\n      form.append('file', val.file)\n      that.isUploading = true;\n      const loading = this.$loading({\n        lock: true,\n        text: '文件上传中',\n        spinner: 'el-icon-loading',\n        background: 'rgba(0, 0, 0, 0.7)'\n      });\n      req(that.data.url, form, \"upload\", true, true).then(function (res) {\n        console.log(res);\n        that.$refs.upload.clearFiles()\n        that.isUploading = false\n        that.$emit('closeDialog')\n        loading.close();\n      }).catch(function (err) {\n        that.$refs.upload.clearFiles()\n        that.isUploading = false\n        loading.close();\n      });\n    },\n  }\n};\n</script>\n<style lang=\"scss\">\n.UploadExcel .el-upload {\n  width: 100%;\n  .el-upload-dragger {\n    width: auto;\n  }\n}\n</style>\n"]}]}