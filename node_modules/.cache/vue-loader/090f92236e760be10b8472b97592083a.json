{"remainingRequest":"/Users/careershe03/Desktop/front-korea/admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/careershe03/Desktop/front-korea/admin/src/views/login/index.vue?vue&type=style&index=0&lang=scss&","dependencies":[{"path":"/Users/careershe03/Desktop/front-korea/admin/src/views/login/index.vue","mtime":1623986623629},{"path":"/Users/careershe03/Desktop/front-korea/admin/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/careershe03/Desktop/front-korea/admin/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/careershe03/Desktop/front-korea/admin/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/careershe03/Desktop/front-korea/admin/node_modules/sass-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/careershe03/Desktop/front-korea/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/careershe03/Desktop/front-korea/admin/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLyog5L+u5aSNaW5wdXQg6IOM5pmv5LiN5Y2P6LCDIOWSjOWFieagh+WPmOiJsiAqLwovKiBEZXRhaWwgc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9QYW5KaWFDaGVuL3Z1ZS1lbGVtZW50LWFkbWluL3B1bGwvOTI3ICovCgokYmc6ICMyODM0NDM7CiRsaWdodF9ncmF5OiAjZmZmOwokY3Vyc29yOiAjZmZmOwoKQHN1cHBvcnRzICgtd2Via2l0LW1hc2s6IG5vbmUpIGFuZCAobm90IChjYXRlci1jb2xvcjogJGN1cnNvcikpIHsKICAubG9naW4tY29udGFpbmVyIC5lbC1pbnB1dCBpbnB1dCB7CiAgICBjb2xvcjogJGN1cnNvcjsKICB9Cn0KCi8qIHJlc2V0IGVsZW1lbnQtdWkgY3NzICovCi5sb2dpbi1jb250YWluZXIgewogIGRpc3BsYXk6IC13ZWJraXQtYm94OwogIGRpc3BsYXk6IC1tcy1mbGV4Ym94OwogIGRpc3BsYXk6IGZsZXg7CiAgLXdlYmtpdC1ib3gtYWxpZ246IGNlbnRlcjsKICAtbXMtZmxleC1hbGlnbjogY2VudGVyOwogIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgcG9zaXRpb246IHJlbGF0aXZlOwogIHdpZHRoOiAxMDAlOwogIGhlaWdodDogMTAwJTsKICBtYXJnaW46IDAgYXV0bzsKCiAgLmVsLWlucHV0IHsKICAgIGRpc3BsYXk6IGlubGluZS1ibG9jazsKICAgIGhlaWdodDogNDdweDsKICAgIHdpZHRoOiA4NSU7CgogICAgaW5wdXQgewogICAgICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDsKICAgICAgYm9yZGVyOiAwcHg7CiAgICAgIC13ZWJraXQtYXBwZWFyYW5jZTogbm9uZTsKICAgICAgYm9yZGVyLXJhZGl1czogMHB4OwogICAgICBwYWRkaW5nOiAxMnB4IDVweCAxMnB4IDE1cHg7CiAgICAgIGNvbG9yOiAjMDAwMDAwOwogICAgICBoZWlnaHQ6IDQ3cHg7CiAgICB9CiAgfQoKICAuZWwtZm9ybS1pdGVtIHsKICAgIGJvcmRlcjogMXB4IHNvbGlkIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4xKTsKICAgIGJhY2tncm91bmQ6IHJnYmEoMCwgMCwgMCwgMC4xKTsKICAgIGJvcmRlci1yYWRpdXM6IDVweDsKICAgIGNvbG9yOiAjNDU0NTQ1OwogIH0KfQo="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8HA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/login","sourcesContent":["<template>\n  <div class=\"login-container\">\n  </div>\n</template>\n\n<script>\nimport defaultSettings from '@/settings.js';\nimport {getCode} from \"../../api/login\";\n\n/**\n * TODO:登录页面\n */\nexport default {\n  name: 'Login',\n  data() {\n    const validateUsername = (rule, value, callback) => !value ? callback(new Error('用户名不能为空')) : callback();\n    const validatePassword = (rule, value, callback) => !value ? callback(new Error('密码不能为空')) : callback();\n    const validateCode = (rule, value, callback) => !value ? callback(new Error('请输入图形验证码')) : callback();\n    return {\n      loginForm: {\n        username: '',\n        password: '',\n        code: '',\n        uuid: ''\n      },\n      captureImg: '',\n      loginRules: {\n        username: [{required: true, trigger: 'blur', validator: validateUsername}],\n        password: [{required: true, trigger: 'blur', validator: validatePassword}],\n        code: [{required: true, trigger: 'blur', validator: validateCode}]\n      },\n      loading: false,\n      passwordType: 'password',\n      redirect: undefined,\n      checked: true,\n      defaultSettingsTitle: defaultSettings.title,\n    }\n  },\n  watch: {\n    $route: {\n      handler: function (route) {\n        //重定向\n        this.redirect = route.query && route.query.redirect\n      },\n      immediate: true\n    }\n  },\n  created() {\n    this.loginForm.username = window.localStorage.getItem('account_' + defaultSettings.KEY) || '';\n    this.loginForm.password = window.localStorage.getItem('password_' + defaultSettings.KEY) || '';\n  },\n  mounted() {\n    this.getCodeData();\n  },\n  methods: {\n    getCodeData() {\n      getCode()\n          .then(res => {\n            this.captureImg = res.img;\n            this.loginForm.uuid = res.uuid;\n            console.log(this.loginForm, this.captureImg);\n          }).catch(err => {\n        console.log(err);\n      })\n    },\n    showPwd() {\n      if (this.passwordType === 'password') {\n        this.passwordType = ''\n      } else {\n        this.passwordType = 'password'\n      }\n      this.$nextTick(() => {\n        this.$refs.password.focus()\n      })\n    },\n    handleLogin() {\n      let that = this;\n      //验证\n      that.$refs.loginForm.validate(valid => {\n        if (valid) {\n          //验证成功，调用接口\n          that.loading = true\n\n          let params = {\n            username: that.loginForm.username,\n            password: that.loginForm.password,\n            code: that.loginForm.code,\n          }\n          if (params.password != window.localStorage.getItem('password_' + defaultSettings.KEY)) {\n            params.password = hex_md5(params.password)\n          }\n\n          that.$store.dispatch('user/login', params).then(() => {\n            // console.log('登录成功，跳转', that.redirect)\n            // that.$router.push({ path: that.redirect || '/' })\n            if (that.checked) {\n              // 记住密码的记录\n              console.log(\"记住密码\");\n              window.localStorage.setItem(\"account_\" + defaultSettings.KEY, params.username);\n              window.localStorage.setItem(\"password_\" + defaultSettings.KEY, params.password);\n            } else {\n              console.log(\"没记住密码\");\n              window.localStorage.removeItem('account_' + defaultSettings.KEY);\n              window.localStorage.removeItem('password_' + defaultSettings.KEY);\n            }\n            // 路由跳转\n            that.$router.push({path: '/'})\n            that.loading = false\n            //删除缓存面包屑导航\n            that.$store.dispatch('tagsView/delAllViews', null, {root: true})\n            that.loading = false\n          }).catch(() => {\n            that.loading = false\n          })\n        } else {\n          //验证失败\n          console.log('错误提交')\n          return false\n        }\n      })\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\">\n/* 修复input 背景不协调 和光标变色 */\n/* Detail see https://github.com/PanJiaChen/vue-element-admin/pull/927 */\n\n$bg: #283443;\n$light_gray: #fff;\n$cursor: #fff;\n\n@supports (-webkit-mask: none) and (not (cater-color: $cursor)) {\n  .login-container .el-input input {\n    color: $cursor;\n  }\n}\n\n/* reset element-ui css */\n.login-container {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: center;\n  -ms-flex-align: center;\n  align-items: center;\n  position: relative;\n  width: 100%;\n  height: 100%;\n  margin: 0 auto;\n\n  .el-input {\n    display: inline-block;\n    height: 47px;\n    width: 85%;\n\n    input {\n      background: transparent;\n      border: 0px;\n      -webkit-appearance: none;\n      border-radius: 0px;\n      padding: 12px 5px 12px 15px;\n      color: #000000;\n      height: 47px;\n    }\n  }\n\n  .el-form-item {\n    border: 1px solid rgba(255, 255, 255, 0.1);\n    background: rgba(0, 0, 0, 0.1);\n    border-radius: 5px;\n    color: #454545;\n  }\n}\n</style>\n\n<style lang=\"scss\" scoped>\n$bg: #2d3a4b;\n$dark_gray: #889aa4;\n$light_gray: #eee;\n\n.login-container {\n  min-height: 100%;\n  width: 100%;\n  overflow: hidden;\n\n  .bg {\n    width: 100%;\n    height: 100vh;\n    margin: 0;\n    display: block;\n    z-index: -10;\n    overflow: hidden;\n\n    .swiper-container {\n      width: 100%;\n      height: 40vw;\n      top: 50%;\n      transform: translateY(-50%);\n    }\n  }\n\n  .login-form {\n    right: 5%;\n    top: 50%;\n    margin-top: -230px;\n    width: 480px;\n    height: 460px;\n    position: fixed;\n    background: #fff url(../../../public/img/loginBG.png) no-repeat;\n    z-index: 10;\n    overflow: hidden;\n    border-radius: 10px;\n    display: flex;\n    align-items: center;\n  }\n\n  .tips {\n    font-size: 14px;\n    color: #fff;\n    margin-bottom: 10px;\n\n    span {\n      &:first-of-type {\n        margin-right: 16px;\n      }\n    }\n  }\n\n  .svg-container {\n    padding: 6px 5px 6px 15px;\n    color: $dark_gray;\n    vertical-align: middle;\n    width: 30px;\n    display: inline-block;\n  }\n\n  .title-container {\n    position: relative;\n\n    .title {\n      font-size: 26px;\n      color: $light_gray;\n      margin: 0px auto 40px auto;\n      text-align: center;\n      font-weight: bold;\n    }\n  }\n\n  .show-pwd {\n    position: absolute;\n    right: 3px;\n    top: 16px;\n    font-size: 16px;\n    color: $dark_gray;\n    cursor: pointer;\n    user-select: none;\n  }\n}\n\n.wrap {\n  right: 5%;\n  top: 50%;\n  margin-top: -230px;\n  width: 480px;\n  height: 460px;\n  position: fixed;\n  background: #fff url(../../../public/img/loginBG.png) no-repeat;\n  z-index: 10;\n  overflow: hidden;\n  border-radius: 10px;\n  display: flex;\n  align-items: center;\n\n  .tabBox {\n    box-sizing: border-box;\n    padding: 0 40px;\n    height: 200px;\n    display: flex;\n    align-items: center;\n\n    .word {\n      font-size: 24px;\n      color: #be954a;\n    }\n\n    .line {\n      color: #be954a;\n      width: 20px;\n      height: 100%;\n      border-right: 4px solid #be954a;\n    }\n  }\n\n  .container {\n    width: 350px;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n\n    .wrap-left {\n      display: flex;\n      font-weight: 700;\n      font-size: 26px;\n      margin-bottom: 40px;\n      color: #be954a;\n      align-items: center;\n\n      img {\n        width: 50px;\n        height: 50px;\n        margin-right: 20px;\n      }\n    }\n\n    .login-inp {\n      display: flex;\n      margin: 0 0 10px 0;\n      border-bottom: 1px solid #aab4b9;\n      align-items: center;\n      width: 80%;\n      position: relative;\n    }\n\n    .login-inp img {\n      height: 20px;\n      width: 20px;\n    }\n\n    .login-inp input {\n      height: 48px;\n      width: 80%;\n      padding-left: 5%;\n      font-size: 12px;\n    }\n\n    .login-blur {\n      display: flex;\n      margin: 0;\n      justify-content: space-between;\n      color: #b18e5d;\n      font-size: 12px;\n      margin-bottom: 20px;\n    }\n\n    .login-inp2 {\n      width: 300px;\n      background: #b18e5d;\n      font-size: 16px;\n      color: #fff;\n      padding: 5px 0;\n      border-radius: 20px;\n      border: none;\n      margin-top: 20px;\n      outline: none;\n      text-align: center;\n      cursor: pointer;\n    }\n\n    .login-tip {\n      color: red;\n      font-size: 14px;\n      margin-top: 20px;\n      margin-right: 30px;\n    }\n  }\n}\n\n@media screen and (max-width: 768px) {\n  .tabBox {\n    display: none !important;\n  }\n\n  .login-container {\n    .bg {\n      display: none;\n    }\n\n    .wrap {\n      right: 0;\n      top: 0;\n      margin-top: 0;\n      width: 100%;\n      height: 100%;\n      position: fixed;\n\n      .container {\n        width: 96%;\n        margin: 0 auto;\n\n        form {\n          text-align: center;\n\n          .wrap-left {\n            width: 96vw;\n            display: flex;\n            display: -webkit-flex;\n            align-items: center;\n            justify-content: center;\n            margin-bottom: 20px;\n            margin-top: 20px;\n          }\n        }\n\n        .login-tip {\n          display: none;\n        }\n\n        .login-inp {\n          width: 100%;\n        }\n      }\n    }\n  }\n}\n\n@media screen and (max-height: 500px) {\n  .login-container {\n    .wrap {\n      .container {\n        margin-top: 100px;\n      }\n    }\n  }\n}\n</style>\n"]}]}